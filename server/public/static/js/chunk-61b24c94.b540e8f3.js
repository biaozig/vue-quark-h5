(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61b24c94"],{3843:function(t,e,i){},"63a6":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"clearfix my-page-list"},[i("ul",{staticClass:"page-item-wrapper"},[i("li",{staticClass:"page-item create",on:{click:t.createNewPage}},[t._m(0),i("div",{staticClass:"null-create"},[t._v("\n        空白创建\n      ")])]),t._l(t.pageList,(function(e,a){return i("li",{key:a,staticClass:"page-item"},[i("div",{staticClass:"header-mask"},[i("div",{staticClass:"details-btn",on:{click:function(i){return t.showPreviewFn(e._id)}}},[t._v("预览")])]),i("div",{staticClass:"cover",style:{backgroundImage:"url("+(e.coverImage||t.defaultCoverImage)+")"}}),t._m(1,!0),i("div",{staticClass:"page-item-data-pv border-T"},[i("div",{staticClass:"btn-wrapper"},[i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(i){return t.editPage(e._id)}}},[t._v("编辑")])],1),i("div",{staticClass:"btn-wrapper"},[i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(i){return t.copyPage(e._id)}}},[t._v("复制")])],1),i("div",{staticClass:"btn-wrapper"},[i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(i){return t.deletePage(e._id,a)}}},[t._v("删除")])],1)])])}))],2),t.showPreview?i("previewPage",{attrs:{pageId:t.previewId},on:{closePreview:function(e){t.showPreview=!1}}}):t._e()],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"temp-create"},[i("i",{staticClass:"el-icon-plus"}),i("p",{staticClass:"paddingT10"},[t._v("创建H5")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-item-title border-T"},[i("span",{staticClass:"item-title-i"},[t._v("未命名页面")])])}],s=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),r=i("1336"),c=i("fe36");function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(i,!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u={components:{previewPage:c["a"]},data:function(){return{loading:!1,defaultCoverImage:i("8571"),pageList:[],previewId:"",showPreview:!1}},created:function(){this.getPageList()},methods:{getPageList:function(){var t=this;this.$axios.get("/page/myPages").then((function(e){t.pageList=e.body||[]}))},createNewPage:function(){var t=this,e=r["a"].getProjectConfig();this.loading=!0,this.$axios.post("/page/add",l({},e,{author:this.$store.state.user.userId})).then((function(e){t.loading=!1,e.body&&t.$router.push({path:"editor",query:{id:e.body._id}})})).catch((function(){t.loading=!1}))},editPage:function(t){this.$router.push({path:"editor",query:{id:t}})},copyPage:function(t){var e=this;this.loading=!0,this.$axios.post("/page/copy/"+t).then((function(t){e.loading=!1,t.body&&e.$router.push({path:"editor",query:{id:t.body._id}})})).catch((function(){e.loading=!1}))},deletePage:function(t,e){var i=this;this.$confirm("此操作将永久删除该页面, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i.loading=!0,i.$axios.delete("/page/delete/"+t).then((function(){i.loading=!1,i.pageList.splice(e,1)})).catch((function(){i.loading=!1}))}))},showPreviewFn:function(t){this.previewId=t,this.showPreview=!0}}},p=u,d=(i("de74"),i("2877")),g=Object(d["a"])(p,a,n,!1,null,"1c2d7e72",null);e["default"]=g.exports},7039:function(t,e,i){},8571:function(t,e,i){t.exports=i.p+"static/img/quark--pagecover-image.7f1ae8de.jpg"},cc66:function(t,e,i){"use strict";var a=i("7039"),n=i.n(a);n.a},de74:function(t,e,i){"use strict";var a=i("3843"),n=i.n(a);n.a},fe36:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"components-preview"},[i("div",{staticClass:"setting-bg"}),i("div",{staticClass:"left-panel"},[i("div",{staticClass:"iframe-wrapper"},[i("iframe",{staticStyle:{"background-color":"transparent",width:"100%",height:"100%"},attrs:{src:"http://localhost:4000/page/"+t.pageId,frameborder:"0"}})])]),i("div",{staticClass:"right-panel"},[t._v("\n    预览信息 待完善\n  ")]),i("span",{staticClass:"cloase-btn",on:{click:t.closePreview}},[i("i",{staticClass:"el-icon-close"})])])},n=[],s={name:"preview-page",props:{pageId:String},data:function(){return{}},created:function(){},methods:{closePreview:function(){this.$emit("closePreview",!1)}}},r=s,c=(i("cc66"),i("2877")),o=Object(c["a"])(r,a,n,!1,null,"4cee48d1",null);e["a"]=o.exports}}]);
//# sourceMappingURL=chunk-61b24c94.b540e8f3.js.map