{"version":3,"sources":["webpack:///./client/common/images/quark--pagecover-image.jpg","webpack:///./client/pages/Home.vue?4cef","webpack:///client/pages/Home.vue","webpack:///./client/pages/Home.vue?1f32","webpack:///./client/pages/Home.vue","webpack:///./client/components/preview-page.vue?b4c6","webpack:///./client/pages/Home.vue?6dfe","webpack:///./client/components/preview-page.vue?c390","webpack:///client/components/preview-page.vue","webpack:///./client/components/preview-page.vue?e55a","webpack:///./client/components/preview-page.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","on","createNewPage","_l","item","index","key","attrs","coverImage","defaultCoverImage","_s","name","$event","editPage","_id","showPreviewFn","deletePage","previewId","showPreview","_e","staticRenderFns","component","staticStyle","pageId","closePreview"],"mappings":"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","file":"static/js/chunk-847899d6.592c0dee.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/quark--pagecover-image.7f1ae8de.jpg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-home\"},[_c('p',{staticClass:\"page-title paddingB30\"},[_vm._v(\"H5可视化编辑器\")]),_c('div',{staticClass:\"clearfix my-page-list\"},[_c('div',{staticClass:\"page-item page-add\",on:{\"click\":_vm.createNewPage}},[_c('i',{staticClass:\"el-icon-plus\"}),_c('p',[_vm._v(\"创建H5\")])]),_vm._l((_vm.pageList),function(item,index){return _c('div',{key:index,staticClass:\"page-item\"},[_c('div',{staticClass:\"page-cover-image\"},[_c('img',{attrs:{\"src\":item.coverImage || _vm.defaultCoverImage,\"alt\":\"\"}})]),_c('p',{staticClass:\"page-item-title\"},[_vm._v(_vm._s(item.name || '未命名H5页'))]),_c('div',{staticClass:\"page-op-btn text-center\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.editPage(item._id)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showPreviewFn(item._id)}}},[_vm._v(\"预览\")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deletePage(item._id, index)}}},[_vm._v(\"删除\")])],1)])})],2),(_vm.showPreview)?_c('previewPage',{attrs:{\"pageId\":_vm.previewId},on:{\"closePreview\":function($event){_vm.showPreview = false}}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"page-home\">\r\n    <p class=\"page-title paddingB30\">H5可视化编辑器</p>\r\n    <div class=\"clearfix my-page-list\">\r\n      <div class=\"page-item page-add\" @click=\"createNewPage\">\r\n        <i class=\"el-icon-plus\"></i>\r\n        <p>创建H5</p>\r\n      </div>\r\n      <div class=\"page-item\" v-for=\"(item, index) in pageList\" :key=\"index\">\r\n        <div class=\"page-cover-image\">\r\n          <img :src=\"item.coverImage || defaultCoverImage\" alt=\"\">\r\n        </div>\r\n        <p class=\"page-item-title\">{{item.name || '未命名H5页'}}</p>\r\n        <div class=\"page-op-btn text-center\">\r\n          <el-button size=\"mini\" @click=\"editPage(item._id)\">编辑</el-button>\r\n          <el-button size=\"mini\" @click=\"showPreviewFn(item._id)\">预览</el-button>\r\n          <el-button size=\"mini\" @click=\"deletePage(item._id, index)\">删除</el-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--预览-->\r\n    <previewPage v-if=\"showPreview\" :pageId=\"previewId\" @closePreview=\"showPreview = false\"></previewPage>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\timport editorProjectConfig from './editor/DataModel'\r\n\timport previewPage from '@client/components/preview-page'\r\n\r\n\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tpreviewPage\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tdefaultCoverImage: require('../common/images/quark--pagecover-image.jpg'),\r\n\t\t\t\tpageList: [],\r\n\t\t\t\tpreviewId: '',\r\n\t\t\t\tshowPreview: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getPageList();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * 获取所有页面\r\n\t\t\t */\r\n\t\t\tgetPageList() {\r\n\t\t\t\tthis.$axios.get('/page').then(res => {\r\n\t\t\t\t\tthis.pageList = res.body || []\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 创建页面,初始化数据提交接口,然后把id拿到后跳转到编辑器页面\r\n\t\t\t */\r\n\t\t\tcreateNewPage() {\r\n\t\t\t\tlet newPageData = editorProjectConfig.getProjectConfig()\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tthis.$axios.post('/page', {page: JSON.stringify(newPageData)}).then(res => {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tif (res.body) {\r\n\t\t\t\t\t\tthis.$router.push({path: 'editor', query: {id: res.body._id}})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 编辑页面\r\n\t\t\t * @param id\r\n\t\t\t */\r\n\t\t\teditPage(id) {\r\n\t\t\t\tthis.$router.push({path: 'editor', query: {id: id}})\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 删除页\r\n\t\t\t * @param id\r\n\t\t\t * @param index\r\n\t\t\t */\r\n\t\t\tdeletePage(id, index) {\r\n\t\t\t\tthis.$confirm('此操作将永久删除该页面, 是否继续?', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tthis.loading = true;\r\n\t\t\t\t\tthis.$axios.delete('/page/' + id).then(() => {\r\n\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t\t// 从页面删除\r\n\t\t\t\t\t\tthis.pageList.splice(index, 1)\r\n\t\t\t\t\t}).catch(() => {\r\n\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tshowPreviewFn(id) {\r\n\t\t\t\tthis.previewId = id\r\n\t\t\t\tthis.showPreview = true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .page-home {\r\n    padding: 20px 30px;\r\n  }\r\n\r\n  .page-item {\r\n    width: 224px;\r\n    height: 296px;\r\n    border-radius: 4px;\r\n    overflow: hidden;\r\n    float: left;\r\n    margin-bottom: 36px;\r\n    margin-right: 20px;\r\n    background-color: #fff;\r\n    position: relative;\r\n    cursor: pointer;\r\n    border: 1px solid #a4a4a4;\r\n    padding: 8px;\r\n    &:hover {\r\n      border-color: $primary;\r\n    }\r\n    &.page-add {\r\n      display: inline-block;\r\n      width: 192px;\r\n      height: 204px;\r\n      border: 1px solid #e6ebed;\r\n      border-radius: 3px;\r\n      margin-bottom: 18px;\r\n      padding-top: 65px;\r\n      text-align: center;\r\n      &:hover {\r\n        color: $primary;\r\n        border-color: $primary;\r\n      }\r\n      & > i {\r\n        display: inline-block;\r\n        margin-bottom: 8px;\r\n        font-size: 30px;\r\n      }\r\n    }\r\n    .page-item-title {\r\n      display: inline-block;\r\n      width: 85%;\r\n      font-size: 14px;\r\n      height: 36px;\r\n      line-height: 36px;\r\n      color: #111;\r\n      transition: transform .2s ease;\r\n      background-color: #fff;\r\n      padding: 0 8px;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n      float: left;\r\n    }\r\n    .page-cover-image {\r\n      width: 208px;\r\n      height: 208px;\r\n      background-size: cover;\r\n      text-align: center;\r\n      img {\r\n        display: inline-block;\r\n        max-height: 100%;\r\n        max-width: 100%;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=2112bb15&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=2112bb15&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2112bb15\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./preview-page.vue?vue&type=style&index=0&id=4cee48d1&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./preview-page.vue?vue&type=style&index=0&id=4cee48d1&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=2112bb15&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=2112bb15&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"components-preview\"},[_c('div',{staticClass:\"setting-bg\"}),_c('div',{staticClass:\"left-panel\"},[_c('div',{staticClass:\"iframe-wrapper\"},[_c('iframe',{staticStyle:{\"background-color\":\"transparent\",\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"src\":'http://localhost:4000/page/' + _vm.pageId,\"frameborder\":\"0\"}})])]),_c('div',{staticClass:\"right-panel\"},[_vm._v(\"\\n    预览信息 待完善\\n  \")]),_c('span',{staticClass:\"cloase-btn\",on:{\"click\":_vm.closePreview}},[_c('i',{staticClass:\"el-icon-close\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"components-preview\">\r\n    <div class=\"setting-bg\"></div>\r\n    <div class=\"left-panel\">\r\n      <div class=\"iframe-wrapper\">\r\n        <iframe :src=\"'http://localhost:4000/page/' + pageId\" frameborder=\"0\" style=\"background-color:transparent;width: 100%; height: 100%;\"></iframe>\r\n      </div>\r\n    </div>\r\n    <div class=\"right-panel\">\r\n      预览信息 待完善\r\n    </div>\r\n    <span class=\"cloase-btn\" @click=\"closePreview\">\r\n      <i class=\"el-icon-close\"></i>\r\n    </span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: \"preview-page\",\r\n\t\tprops: {\r\n\t\t\tpageId: String\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tclosePreview() {\r\n\t\t\t\tthis.$emit('closePreview', false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .components-preview-inner {\r\n    width: 100%;\r\n\r\n  }\r\n\r\n  .setting-bg{\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    background-color: rgba(0,0,0,.8);\r\n    z-index: 1042;\r\n  }\r\n  .left-panel {\r\n    position: fixed;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 640px;\r\n    z-index: 1050;\r\n    overflow: hidden;\r\n  }\r\n  .right-panel{\r\n    position: fixed;\r\n    width: 640px;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    z-index: 1050;\r\n    background-color: #fff;\r\n    overflow-y: auto;\r\n    font-size: 12px;\r\n    color: #333;\r\n  }\r\n  .iframe-wrapper{\r\n    width: 375px;\r\n    height: 667px;\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    margin-left: -185px;\r\n    margin-top: -334px;\r\n    background: white;\r\n  }\r\n  .cloase-btn{\r\n    position: fixed;\r\n    top: 8px;\r\n    right: 20px;\r\n    font-size: 28px;\r\n    color: #7F8593;\r\n    -webkit-transition: all 0.28s;\r\n    transition: all 0.28s;\r\n    z-index: 1060;\r\n    cursor: pointer;\r\n    &:hover{\r\n      color: $primary;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./preview-page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./preview-page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./preview-page.vue?vue&type=template&id=4cee48d1&scoped=true&\"\nimport script from \"./preview-page.vue?vue&type=script&lang=js&\"\nexport * from \"./preview-page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./preview-page.vue?vue&type=style&index=0&id=4cee48d1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4cee48d1\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}